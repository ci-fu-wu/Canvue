{"version":3,"file":"canvue.mjs","sources":["../src/components/index.ts","../src/event.ts","../src/index.ts"],"sourcesContent":["// Components\r\nconst components = [\r\n    {name: 'Stage', component: import(\"./stage\")},\r\n    {name: 'Layer', component: import(\"./layer\")},\r\n]\r\n// 全局加载插件\r\nexport default function InstallComponents(app, prefix = 'v') {\r\n    components.forEach((com) => {\r\n        app.component(`${prefix}${com.name}`, com.component);\r\n    });\r\n}\r\n","import mitt, {Emitter} from 'mitt';\r\n\r\ntype Events = {\r\n    foo: string;\r\n    bar?: number;\r\n};\r\n\r\nconst emitter: Emitter<Events> = mitt<Events>();\r\n\r\nexport default emitter\r\n","import {App} from \"vue\";\r\nimport {CanvueOptions} from \"./types\";\r\nimport InstallComponents from \"./components\";\r\nimport event from './event'\r\n\r\n/**\r\n * Canvue\r\n */\r\nclass Canvue {\r\n    event // 事件总线\r\n\r\n    constructor(options) {\r\n        this.event = event\r\n    }\r\n}\r\n\r\nexport default {\r\n    /**\r\n     * install plugin\r\n     *\r\n     * @param {App} Vue\r\n     * @param {CanvueOptions} options\r\n     */\r\n    install(Vue: App, options: CanvueOptions): void {\r\n        const canvue = new Canvue(options)\r\n        InstallComponents(Vue, options?.prefix ?? 'v')\r\n        // 全局注入\r\n        // 可以通过this.$$canvue获取到canvue类的实例\r\n        Vue.config.globalProperties.$canvue = canvue\r\n        // 组件注入\r\n        // 使用方式 const useCanvue = inject('canvue')\r\n        Vue.provide('canvue', canvue)\r\n    }\r\n}\r\n"],"names":["components","name","component","import","emitter","mitt","Canvue","options","event","this","install","Vue","app","prefix","canvue","forEach","com","config","globalProperties","$canvue","provide"],"mappings":"oBACA,IAAMA,EAAa,CACf,CAACC,KAAM,QAASC,UAAWC,OAAO,wBAClC,CAACF,KAAM,QAASC,UAAWC,OAAO,yBCIhCC,EAA2BC,ICC3BC,EAGF,SAAYC,QAFZC,aAGIC,KAAKD,MAAQA,KAIN,CAOXE,iBAAQC,EAAUJ,SFjBoBK,EAAKC,EEkBjCC,EAAS,IAAIR,EAAOC,GFlBQK,EEmBhBD,YFnBqBE,iBEmBhBN,SAAAA,EAASM,UAAU,OFnBHA,EAAS,KACpDb,EAAWe,QAAQ,SAACC,GAChBJ,EAAIV,aAAaW,EAASG,EAAIf,KAAQe,EAAId,aEoB1CS,EAAIM,OAAOC,iBAAiBC,QAAUL,EAGtCH,EAAIS,QAAQ,SAAUN"}